pipeline {
    agent { 
		docker { 
			image 'alpine:latest' 
		}
	}
    stages {
    stages('build') {
    	steps {   
    	saveAndPrintDate("test") 
	sh "sleep 10s"
	saveAndPrintDate("test")
	}
    }
    stage('test') {
    step{
    grep $("2023")
    }        
    def saveAndPrintDate(filename = ''){
     sh "date > $filename && cat $filename"
}
